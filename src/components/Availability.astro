---
import { homePageQuery } from "../lib/api";
const data = await homePageQuery();
const availability = data.pageBy.home.availability;
---

<h2>Availability</h2>
<div class="availability" set:html={availability} />

<div class="avail-cta">
  <p>I'd love to set up a time to hear about your project. Let's talk!</p>
  <a href="/contact" class="button"> Contact</a>
</div>

<style lang="scss" is:global>
  .availability {
    margin-bottom: 2rem;
    color: var(--color-gray-medium);

    span {
      font-weight: 800;
      font-size: 1rem;
      line-height: 1.3;
      text-transform: uppercase;
      display: block;
      margin-bottom: 8px;
    }

    br {
      display: none;
    }

    .unavailable {
      color: var(--color-unavailable);
    }

    .available {
      color: var(--color-available);
    }

    .limited {
      color: var(--color-limited);
    }
  }

  .avail-cta {
    font-size: 1.1rem;
    line-height: 1.5;
  }

  .contact .avail-cta {
    display: none;
  }
</style>
